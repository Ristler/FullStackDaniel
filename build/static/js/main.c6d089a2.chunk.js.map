{"version":3,"sources":["components/Notification.js","services/login.js","services/blogs.js","App.js","index.js"],"names":["Notification","_ref","message","react_default","a","createElement","className","services_login","login","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","_x","apply","this","arguments","token","services_blogs","getAll","get","then","create","blogs_regeneratorRuntime","newObject","config","headers","Authorization","update","id","put","concat","setToken","newToken","App","_useState","useState","_useState2","slicedToArray","blogs","setBlogs","_useState3","_useState4","setNewBlog","_useState5","_useState6","newTitle","setNewTitle","_useState7","_useState8","newAuthor","setNewAuthor","_useState9","_useState10","newUrl","setNewUrl","_useState11","_useState12","_useState13","_useState14","errorMessage","setErrorMessage","_useState15","_useState16","username","setUsername","_useState17","_useState18","password","setPassword","_useState19","_useState20","user","setUser","useEffect","blogService","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","App_regeneratorRuntime","event","_user2","preventDefault","loginService","setItem","stringify","t0","setTimeout","addBlog","blogObject","title","author","url","length","returnedBlog","handleTitleChange","console","log","target","value","map","x","handleAuthorChange","handleUrlChange","loginForm","onSubmit","type","name","onChange","_ref2","_ref3","components_Notification","blog","key","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.c6d089a2.chunk.js","sourcesContent":["import React from \"react\"\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  \n  export default Notification","\n   \nimport axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken }","import { useState, useEffect } from 'react'\n\n\nimport Notification from './components/Notification'\nimport Footer from './components/Footer'\nimport loginService from './services/login'\nimport blogService from './services/blogs'\nimport React from 'react'\n\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [newBlog, setNewBlog] = useState('')\n\n  const [newTitle, setNewTitle] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n\n\n  \n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState('') \n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      setUser(user)\n      blogService.setToken(user.token)\n      window.localStorage.setItem(\n        'loggedNoteappUser', JSON.stringify(user)\n      ) \n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('Wrong username or password!')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n//KÄY LÄPI MYÖS\n  const addBlog = (event) => {\n    event.preventDefault()\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      id: blogs.length + 1\n    }\n\n    blogService\n      .create(blogObject)\n      .then(returnedBlog => {\n        setBlogs(blogs.concat(returnedBlog))\n        setNewBlog('')\n      })\n  }\n\n  const handleBlogChange = (event) => {\n    setNewBlog(event.target.value)\n  }\n  const handleTitleChange = (event) => {\n    console.log(event.target.value)\n    console.log(blogs.map(x => x.title))\n    setNewTitle(event.target.value)\n    \n  }\n  const handleAuthorChange = (event) => {\n    console.log(event.target.value)\n    console.log(blogs.map(x => x.author))\n    setNewAuthor(event.target.value)\n    \n  }\n  const handleUrlChange = (event) => {\n    console.log(event.target.value)\n    console.log(blogs.map(x => x.url))\n    setNewUrl(event.target.value)\n    \n  }\n\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <div>\n          username\n          <input\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            onChange={({ target }) => setUsername(target.value)}\n          />\n      </div>\n      <div>\n          password\n          <input\n            type=\"password\"\n            value={password}\n            name=\"Password\"\n            onChange={({ target }) => setPassword(target.value)}\n          />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>      \n  )\n\n  //KORJAA!\n  \n  \n  \n  const RenderNumerot = () => {\n    return (\n\n    <div>\n       <h2>Blogs</h2>\n      {blogs.map(blog =>\n      <li key={blog.id}>\n        {blog.title + ' ' + blog.author}\n        {console.log(blog.id)}\n        \n            \n      </li>\n        )}\n    </div>\n    )\n  }\n  const blogForm = () => (\n    <form onSubmit={addBlog}>\n    <div>Title: <input value={newTitle}\n                onChange={handleTitleChange} /></div>\n    \n    <div>Author: <input value={newAuthor} \n                  onChange={handleAuthorChange}/></div>\n    \n    <div>Url: <input value={newUrl} \n                 onChange={handleUrlChange}/></div>\n    <div><button type=\"submit\">Lähetä</button></div>\n    </form>\n  )\n\n\nreturn (\n  \n  <div>\n    {loginForm}\n    <h2>Blogs</h2>\n    <Notification message={errorMessage} />\n    \n    {user === null ?\n        loginForm() :\n        <div>\n          <p>{user.username} logged in</p>\n          {blogForm()}\n          </div>\n\n    }\n  \n    <RenderNumerot/>\n    </div>\n    \n)\n}\n\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}