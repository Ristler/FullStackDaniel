{"version":3,"sources":["components/Notification.js","components/SuccessNotification.js","components/LoginForm.js","components/Togglable.js","services/blogs.js","components/blogForm.js","services/login.js","App.js","index.js"],"names":["Notification","_ref","message","react_default","a","createElement","className","SuccessNotification","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","value","onChange","type","Togglable","forwardRef","props","ref","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","onClick","buttonLabel","children","token","services_blogs","getAll","axios","get","then","response","data","create","asyncToGenerator","_regeneratorRuntime","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","id","put","concat","setToken","newToken","remove","delete","res","BlogForm","blogObject","newTitle","setNewTitle","_useState3","_useState4","newAuthor","setNewAuthor","_useState5","_useState6","newUrl","setNewUrl","_useState7","_useState8","blogs","setBlogs","_useState9","setNewBlog","_useState11","_useState12","_useState13","_useState14","event","preventDefault","title","author","url","likes","length","blogService","returnedBlog","console","log","target","map","x","services_login","login","login_regeneratorRuntime","credentials","App","blogFormRef","useRef","errorMessage","setErrorMessage","successMessage","setSuccessMessage","setUsername","_useState10","setPassword","user","setUser","useEffect","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","logOut","clear","location","reload","handleLogin","App_regeneratorRuntime","_user2","loginService","setItem","stringify","t0","setTimeout","addBlog","current","removeBlog","blogStyle","paddingTop","paddingLeft","padding","border","backgroundColor","borderWidth","marginBottom","components_Notification","components_Togglable","components_LoginForm","_ref2","_ref3","components_SuccessNotification","blogForm","blog","key","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.6e1460da.chunk.js","sourcesContent":["import React from \"react\"\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  \n  export default Notification","import React from \"react\"\nconst SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n  \n  export default SuccessNotification","import React from 'react'\nimport PropTypes from 'prop-types'\n\n\nconst LoginForm = ({\n  \n    handleSubmit,\n    handleUsernameChange,\n    handlePasswordChange,\n    username,\n    password\n   }) => {\n   \n    return (\n     <div>\n       <h1>Blogs app</h1>\n       <h3>Login</h3>\n  \n       <form onSubmit={handleSubmit}>\n         <div>\n           Username\n           <input\n             value={username}\n             onChange={handleUsernameChange}\n           />\n         </div>\n         <div>\n           Password\n           <input\n             type=\"password\"\n             value={password}\n             onChange={handlePasswordChange}\n           />\n       </div>\n       \n         <button type=\"submit\">Login</button>\n         \n       </form>\n       <div>\n        </div>\n     </div>\n   )\n  }\n  LoginForm.propTypes = {\n    handleSubmit: PropTypes.func.isRequired,\n    handleUsernameChange: PropTypes.func.isRequired,\n    handlePasswordChange: PropTypes.func.isRequired,\n    username: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired\n  }\n  \n  export default LoginForm","import { useState, useImperativeHandle, forwardRef } from 'react'\nimport React from 'react'\n\n\nconst Togglable = forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nexport default Togglable","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((res) => res.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken, remove }","import React from 'react'\nimport { useState } from 'react' \nimport blogService from '../services/blogs'\nimport BlogNotification from './BlogNotification'\nimport SuccessNotification from './SuccessNotification'\n\nconst BlogForm = ({ blogObject}) => {\n  const [newTitle, setNewTitle] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n  const [blogs, setBlogs] = useState([])\n  const [setNewBlog] = useState('')\n  const [user, setUser] = useState(null)\n\n\n \n  const [successMessage, setSuccessMessage] = useState(null)\n \n\n  const handleTitleChange = (event) => {\n    event.preventDefault()\n    console.log(event.target.value)\n    console.log(blogs.map(x => x.title))\n    setNewTitle(event.target.value)\n  }\n  \n  const handleAuthorChange = (event) => {\n    event.preventDefault()\n    console.log(event.target.value)\n    console.log(blogs.map(x => x.author))\n    setNewAuthor(event.target.value)\n  }\n  const handleUrlChange = (event) => {\n    event.preventDefault()\n    console.log(event.target.value)\n    console.log(blogs.map(x => x.url))\n    setNewUrl(event.target.value)\n  }\n  const addBlog = (event) => {\n    event.preventDefault()\n    \n    blogObject({\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      likes: 0,\n      id: blogs.length + 1\n    })\n    \n  \n    \n\n    blogService\n      .create(blogObject)\n      .then(returnedBlog => {\n        setBlogs(blogs.concat(returnedBlog))\n        setNewBlog('')\n\n      })\n  }\n  return (\n    \n    <div>\n      \n     \n    \n    <form onSubmit={addBlog}>\n    \n     \n    <div>Title: <input value={newTitle}\n                onChange={handleTitleChange} /></div>\n    \n    <div>Author: <input value={newAuthor} \n                  onChange={handleAuthorChange}/></div>\n    \n    <div>Url: <input value={newUrl} \n                 onChange={handleUrlChange}/></div>\n    <div><button type=\"submit\">Add blog!</button></div>\n    </form>\n\n    </div>\n)}\nexport default BlogForm","\n   \nimport axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import { useState, useEffect, useRef } from 'react'\n\n\n//COMPONENTS\nimport Notification from './components/Notification'\nimport SuccessNotification from './components/SuccessNotification'\nimport LoginForm from './components/LoginForm'\nimport Togglable from './components/Togglable'\nimport BlogForm from './components/blogForm'\n\n//SERVICES\nimport loginService from './services/login'\nimport blogService from './services/blogs'\nimport React from 'react'\n\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n\n  const blogFormRef = useRef()\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const [successMessage, setSuccessMessage] = useState(null)\n  \n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  \n  const [user, setUser] = useState(null)\n  \n\n  const [show, setShow] = useState(true);\n\n\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n  }, [])\n  //TÄNNE \n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n\n    \n\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n  const refresh = () => {\n    blogService\n    .getAll()\n    .then(initialBlogs => {\n      setBlogs(initialBlogs)\n    })\n  }\n  //SIIRRÄ\n  const logOut = ()=>\n  {\n    localStorage.clear();\n    window.location.reload();\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      setUser(user)\n      \n      blogService.setToken(user.token)\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      ) \n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('Wrong username or password!')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n \n\n\n\n  \n  const addBlog = (blogObject) => {\n    blogFormRef.current.toggleVisibility()\n    blogService\n      .create(blogObject)\n      .then(returnedBlog => {\n        setBlogs(blogs.concat(returnedBlog))\n\n        setSuccessMessage('Blog ' +  blogObject.title + ' was added!')\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 3500)\n      \n\n\n\n      })\n  }\n  //LISÄÄ ILMOITUS KUN POISTETAAN.\n  const removeBlog = (id) => {\n    \n    \n    blogService\n      .remove(id)\n      refresh()\n  }\n   \n\n\n    //SIIRRÄ TÄMÄ \n    const blogStyle = {\n      paddingTop: 5,\n      paddingLeft: 1,\n      padding: 1,\n      border: 'solid green',\n      backgroundColor: '#D3D3D3',\n      borderWidth: 6,\n      marginBottom: 5,\n    }\n  \n  //CLEANUP!\n  const RenderBlogs = () => {\n    return (\n    <div>\n        <h1>Blogs that have been added..</h1>\n        <SuccessNotification message={successMessage} />\n\n        <div>\n        \n          <h3>{user.username} logged in {<button onClick={logOut}>Logout</button>}</h3> \n          <Togglable buttonLabel=\"New blog!\" ref={blogFormRef}>\n            <BlogForm blogObject={addBlog}/>\n          </Togglable>\n        \n        </div>\n      {blogs.map(blog =>\n      <li key={blog.id}>\n        <div></div>\n        <div style={blogStyle}>\n        Title: {blog.title}\n      <div> \n        Author: {blog.author}\n      </div>\n      Url: {blog.url}\n      <br />\n      Likes: {blog.likes} <button type=\"submit\">Like</button>\n      <br />\n    \n\n      <button onClick={()=>removeBlog(blog.id)}>Delete</button>\n    \n      \n  \n      </div>    \n        {console.log(blog.id)}\n      </li>\n        )}\n    </div>\n\n\n\n    )\n  }\nreturn (\n  <div>\n    \n    <Notification message={errorMessage} />\n    \n    {user === null ?\n    \n\n        <Togglable buttonLabel='login'>\n        <LoginForm\n          username={username}\n          password={password}\n          handleUsernameChange={({ target }) => setUsername(target.value)}\n          handlePasswordChange={({ target }) => setPassword(target.value)}\n          handleSubmit={handleLogin}\n        />\n      </Togglable> :\n          <div>\n          <RenderBlogs/>\n          </div>\n    }\n    </div> \n)}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}